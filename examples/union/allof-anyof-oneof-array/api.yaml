openapi: 3.0.0
info:
  contact:
    email: psp@example.com
    name: PSP Platform Team
  title: PSP API
  version: 1.0.0
paths:
  /users/{userId}:
    post:
      operationId: createUser
      responses:
        '500':
          description: Internal Server Error
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    id:
                      type: integer
                      minimum: 1
                      maximum: 999999
                    score:
                      type: number
                      minimum: 0
                      maximum: 100
                  required:
                    - id
                pages:
                  type: array
                  items:
                    type: object
                    allOf:
                      - type: object
                        properties:
                          limit:
                            type: integer
                            minimum: 1
                            maximum: 1000
                          tag1:
                            type: string
                            maxLength: 50
                        required:
                          - limit
                      - type: object
                        properties:
                          tag2:
                            type: string
                            minLength: 1
                            maxLength: 100
                    anyOf:
                      - type: object
                        properties:
                          offset:
                            type: integer
                            minimum: 0
                        required:
                          - offset
                      - type: object
                        properties:
                          query:
                            type: string
                            minLength: 1
                            maxLength: 200
                        required:
                          - query
                    oneOf:
                      - type: object
                        properties:
                          first:
                            type: integer
                            minimum: 1
                          second:
                            type: integer
                            minimum: 1
                        required:
                          - first
                          - second
                      - type: object
                        properties:
                          last:
                            type: integer
                            minimum: 1
                        required:
                          - last
                    not:
                      type: object
                      properties:
                        second:
                          type: integer
